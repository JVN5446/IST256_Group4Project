<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" type="text/css" href="styles.css">
  <meta charset="UTF-8">
  <meta name="application-name" content="Project #4">
  <meta name="viewport" content="width-device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="icon" type="image/x-icon" href="https://www.freeiconspng.com/uploads/number-4-icon-19.png">
  <title>Shipment Info</title>
  <!--- John Nguyen created the shipping info page and made the form-->
  <!--- Mark Tymchenko created the validation functions in javascript-->
  <!--- Houde Yu created the JSON string function and output --->
</head>
<body>
<div class="container-fluid">
  <div class="row">
    <div class="col-sm-2 border">
      <img src="https://www.freeiconspng.com/uploads/number-4-icon-19.png" alt="4 logo" width="75" height="75">
    </div>
    <div class="col-sm-10 border">
      <h1>Project #4</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-3 border">
      <nav class="navbar navbar-light">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="index.html" target="_self">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">About Us</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="shopping_cart.html" target="_self">Shopping Cart</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Products</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Login</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Contact Us</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="sign_up.html" target="_self">Sign Up</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="product_management.html" target="_self">Product Management</a>
          </li>
        </ul>
      </nav>
    </div>
    <div class="col-sm-6 border">
      <div class="panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">Shipment Information: </h3>
        </div>
      </div>
      <form class="row g-3 needs-validation" novalidate>
        <div class="col-sm-12">
          <label for="address" class="form-label">Address: </label>
          <input type="text" class="form-control" id="address" value="" required>
          <div class="invalid-feedback">
            Please type a valid address.
          </div>
        </div>
        <div class="col-sm-6">
          <label for="city" class="form-label">City: </label>
          <input type="text" class="form-control" id="city" value="" required>
          <div class="invalid-feedback">
            Please provide a valid city.
          </div>
        </div>
        <div class="col-md-3">
          <label for="state" class="form-label">State: </label>
          <select class="form-select" id="state" required>
            <option selected disabled value="">...</option>
            <option value="AL">AL</option>
            <option value="AK">AK</option>
            <option value="AZ">AZ</option>
            <option value="AR">AR</option>
            <option value="CA">CA</option>
            <option value="CO">CO</option>
            <option value="CT">CT</option>
            <option value="DE">DE</option>
            <option value="FL">FL</option>
            <option value="GA">GA</option>
            <option value="HI">HI</option>
            <option value="ID">ID</option>
            <option value="IL">IL</option>
            <option value="IN">IN</option>
            <option value="IA">IA</option>
            <option value="KS">KS</option>
            <option value="KY">KY</option>
            <option value="LA">LA</option>
            <option value="ME">ME</option>
            <option value="MD">MD</option>
            <option value="MA">MA</option>
            <option value="MI">MI</option>
            <option value="MN">MN</option>
            <option value="MS">MS</option>
            <option value="MO">MO</option>
            <option value="MT">MT</option>
            <option value="NE">NE</option>
            <option value="NV">NV</option>
            <option value="NH">NH</option>
            <option value="NJ">NJ</option>
            <option value="NM">NM</option>
            <option value="NY">NY</option>
            <option value="NC">NC</option>
            <option value="ND">ND</option>
            <option value="OH">OH</option>
            <option value="OK">OK</option>
            <option value="OR">OR</option>
            <option value="PA">PA</option>
            <option value="RI">RI</option>
            <option value="SC">SC</option>
            <option value="SD">SD</option>
            <option value="TN">TN</option>
            <option value="TX">TX</option>
            <option value="UT">UT</option>
            <option value="VT">VT</option>
            <option value="VA">VA</option>
            <option value="WA">WA</option>
            <option value="WV">WV</option>
            <option value="WI">WI</option>
            <option value="WY">WY</option>
          </select>
          <div class="invalid-feedback">
            Please select a valid state.
          </div>
        </div>
        <div class="col-sm-3">
          <label for="zipcode" class="form-label">Zipcode: </label>
          <input type="text" class="form-control" id="zipcode" min="0" step="1" oninput="this.value = this.value.replace(/[^0-9]/g, '');" value="" required>
          <div class="invalid-feedback">
            Please provide a valid zipcode.
          </div>
        </div>
        <div class="col-md-6">
          <label for="shipping_carrier" class="form-label">Select a shipping carrier: </label>
          <select class="form-select" id="shipping_carrier" required>
            <option selected disabled value="">...</option>
            <option value="FedEx">FedEx</option>
            <option value="UPS">UPS</option>
            <option value="USPS">USPS</option>
            <option value="DHL">DHL</option>
          </select>
          <div class="invalid-feedback">
            Please select a valid shipping carrier.
          </div>
        </div>
        <div class="col-md-6">
          <label for="shipping_method" class="form-label">Select a shipping method: </label>
          <select class="form-select" id="shipping_method" required>
            <option selected disabled value="">...</option>
            <option value="nextDay">Next Day</option>
            <option value="2ndDay">2nd Day</option>
            <option value="3-5Days">3-5 Days</option>
            <option value="4-7Days">4-7 Days</option>
            <option value="groundShipping">Ground Shipping</option>
          </select>
          <div class="invalid-feedback">
            Please select a valid shipping carrier.
          </div>
        </div>
        <div id="cart-total" class="text-right mt-4">
          <button id="checkout-btn" class="btn btn-success">Continue</button>
          <div id="jsonOutput"></div>
        </div>
      </form>
    </div>
    <div class="col-sm-3 border">
      <aside>
        <p>This spot is reserved for ads</p>
      </aside>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12 border">
      <footer>
        <a href="https://www.johnstrinkets.com./terms_of_use">Terms of Use</a>
        <a href="https://www.johnstrinkets.com/cookie_and_privacy_policy">Cookie & Privacy Policy</a>
        <a href="https://www.johnstrinkets.com/copyright">Copyright</a>
      </footer>
    </div>
  </div>
</div>
<script>
  (() => {
    'use strict'

    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    const forms = document.querySelectorAll('.needs-validation')

    // Loop over them and prevent submission
    Array.from(forms).forEach(form => {
      form.addEventListener('submit', event => {
        let isValid = true;

        // Get elements by ID
        const address = document.getElementById('address');
        const city = document.getElementById('city');
        const state = document.getElementById('state');
        const zipcode = document.getElementById('zipcode');
        const shipping_carrier = document.getElementById('shipping_carrier');
        const shipping_method = document.getElementById('shipping_method');

        // Custom validation for state, shipping carrier & shipping method
        if (state.value === '...') {
          state.setCustomValidity('Please select a valid state.');
          isValid = false;
        } else {
          state.setCustomValidity('');
        }

        if (shipping_carrier.value === '...') {
          shipping_carrier.setCustomValidity('Please select a valid shipping carrier.');
          isValid = false;
        } else {
          shipping_carrier.setCustomValidity('');
        }

        if (shipping_carrier.value === '...') {
          shipping_carrier.setCustomValidity('Please select a valid shipping carrier.');
          isValid = false;
        } else {
          shipping_carrier.setCustomValidity('');
        }

        if (shipping_method.value === '...') {
          shipping_method.setCustomValidity('Please select a valid shipping method.');
          isValid = false;
        } else {
          shipping_method.setCustomValidity('');
        }

        // Check if all form elements are valid
        if (!form.checkValidity() || !isValid) {
          event.preventDefault();
          event.stopPropagation();
        } else {
          // Prevent actual form submission
          event.preventDefault();

          // Create the JSON object
          const shippingData = {
            Address: address.value,
            City: city.value,
            State: state.value,
            Zipcode: zipcode.value,
            Shipping_Carrier: shipping_carrier.value,
            Shipping_Method: shipping_method.value,
          };

          // Convert JSON object to string
          const jsonString = JSON.stringify(shippingData, null, 2);
          document.getElementById('jsonOutput').textContent = jsonString; // Display JSON on the page
        }

        form.classList.add('was-validated');
      }, false);
    });
  })();
</script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
        crossorigin="anonymous">
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"
        integrity="sha512-KZmyTq3PLx9EZl0RHShHQuXtrvdJ+m35tuOiwlcZfs/rE7NZv29ygNA8SFCkMXTnYZQK2OX0Gm2qKGfvWEtRXA=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer">
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous">
</script>
</body>
</html>